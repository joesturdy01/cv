/* ========================
   1. Theme Variables (CSS Custom Properties)
   These act like paint colors the whole CV reuses.
   Defined in :root so they're available globally.
   Change these values to update the entire theme consistently.
   ======================== */
:root {
  /* Background Colors: Dark theme foundation */
  --bg-dark: #020204;                    /* Primary dark background */
  --bg-dark-alt: #050608;                /* Alternative dark shade for variation */
  --bg-card: rgba(8, 8, 10, 0.85);       /* Card background with transparency for glassmorphism */
  --glass-highlight: rgba(255, 255, 255, 0.16); /* Subtle highlight for glass effect */
  
  /* Gold Accent Colors: Primary brand colors for headings and accents */
  --gold: #f4c96b;                       /* Primary gold - used for h2 section headings */
  --gold-soft: #f0d89a;                  /* Softer gold - used for h3 subheadings */
  --gold-deep: #b38130;                  /* Deep gold for emphasis and hover states */
  
  /* Text Colors: Typography color palette */
  --text-main: #ffffff;                   /* Primary text color - maximum contrast */
  --text-muted: #d0d3dc;                 /* Secondary/muted text for less emphasis */
  
  /* Border and Shadow: Depth and separation */
  --border-subtle: rgba(255, 255, 255, 0.22); /* Subtle borders for card definition */
  --shadow-soft: 0 32px 80px rgba(0, 0, 0, 0.95); /* Soft shadow for card depth */
  
  /* Border Radius: Consistent rounding system */
  --radius-lg: 28px;                     /* Large elements */
  --radius-md: 25px;                     /* Medium elements (default) */
  --radius-card: 25px;                   /* Card containers */
  --radius-pill: 999px;                  /* Pills/badges (fully rounded) */
}

/* ========================
   2. Base Elements & Resets
   Keep defaults predictable across browsers.
   Universal selector ensures consistent behavior for all elements.
   ======================== */
/* Universal Box Sizing: Makes padding and borders included in element width/height
    Prevents layout issues when adding padding or borders */
*,
*::before,
*::after {
  box-sizing: border-box;
  
  /* Font Smoothing: Improves text rendering on different displays
     -webkit-font-smoothing: antialiased - Smooths fonts on WebKit browsers (Chrome, Safari)
     -moz-osx-font-smoothing: grayscale - Optimizes font rendering on macOS Firefox */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* Font Family: Tomorrow as primary, with system font fallbacks
     Falls back to native system fonts if Tomorrow fails to load */
  font-family: "Tomorrow", -apple-system, system-ui, BlinkMacSystemFont,
    "SF Pro Text", "Segoe UI", sans-serif;
}

/* HTML and Body Reset: Removes default browser margins and padding
   Sets full width/height to ensure proper layout */
html,
body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

/* Body Layout: Flexbox centering for CV container
   The CV is centered horizontally on the page */
body {
  min-height: 100vh;                      /* Ensures body fills viewport height */
  display: flex;                          /* Flexbox for centering */
  align-items: flex-start;                /* Aligns CV to top (not vertically centered) */
  justify-content: center;                /* Centers CV horizontally */
  padding: 0;
  color: var(--text-main);                /* Sets default text color */
  /* Background Image: Fixed attachment creates parallax-like effect
     The background stays fixed while content scrolls (if needed)
     center / cover ensures image covers entire viewport */
  background: url("../assets/Futuristic-Gold-and-Black.jpg") center / cover no-repeat
    fixed;
}

/* Typography Reset: Removes default margins from headings and paragraphs
   Prevents inconsistent spacing across browsers */
h1,
h2,
h3,
h4,
p {
  margin: 0;
}

/* Heading Base Styles: Common properties for all heading levels */
h1,
h2,
h3,
h4 {
  font-weight: 600;                       /* Semibold weight for headings */
  letter-spacing: 0.02em;                /* Slight letter spacing for readability */
}

/* H1: Hidden heading for ATS/screen readers (not visually displayed)
   Sized appropriately for semantic hierarchy */
h1 {
  font-size: 25px;
}

/* H2: Section headings (Personal Info, Experience, etc.)
   Uppercase transform and gold color create visual hierarchy */
h2 {
  font-size: 20px;
  text-transform: uppercase;             /* Uppercase for emphasis */
  color: var(--gold);                     /* Gold color for brand consistency */
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* H3: Subheadings (job titles, company names, etc.)
   Softer gold color distinguishes from h2 */
h3 {
  font-size: 15px;
  color: var(--gold-soft);               /* Softer gold for secondary headings */
  font-weight: 600;
  letter-spacing: 0.02em;
}

/* Paragraph: Body text styling
   Optimized line-height for readability in CV format */
p {
  font-size: 13px;
  line-height: 1.5;                       /* 1.5x line height for comfortable reading */
  font-weight: 400;                       /* Regular weight for body text */
  color: var(--text-main);
}

.skill-name {
  font-size: 13px;
  line-height: 1.5;
  font-weight: 400;
  color: var(--text-main);
}

/* ========================
   3. Layout Wrappers
   Arrange the CV into fixed A4 proportions.
   These containers ensure consistent layout between web view and PDF export.
   ======================== */
/* CV Shell: Outer container locked to A4 dimensions (210mm × 297mm)
   This ensures the CV maintains exact A4 proportions in both browser and PDF */
.cv-shell {
  width: 210mm;                           /* A4 width */
  max-width: 210mm;                       /* Prevents expansion beyond A4 */
  min-width: 210mm;                       /* Prevents shrinking below A4 */
  min-height: 297mm;                      /* A4 height */
  padding: 0;
  border-radius: 0;                       /* No rounding on outer shell */
  position: relative;
  background: transparent;                /* Allows background image to show through */
}

/* CV Shell Inner: Inner wrapper that provides the glassmorphism backdrop
   Slightly shorter than full A4 to account for margins */
.cv-shell-inner {
  width: 100%;
  min-height: calc(297mm - 40px);        /* A4 height minus top/bottom margins */
  border-radius: var(--radius-card);      /* Rounded corners for modern look */
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* Card Grid: Two-column CSS Grid layout for CV sections
   This is the main container that holds all CV content cards
   Glassmorphism effect applied to the grid container itself
   
   IMPORTANT: Grid items are placed in DOM order (left-to-right, top-to-bottom)
   to ensure copy-paste and ATS systems read sections in the correct order:
   1. Personal Info, 2. Summary, 3. Relevant Experience, 4. Relevant Projects,
   5. Education, 6. Skills, 7. Additional Experience, 8. Licences & Certifications,
   9. Honours & Awards */
.card-grid {
  display: grid;                          /* CSS Grid for two-column layout */
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* Two equal columns */
  grid-auto-rows: min-content;            /* Rows size to content height */
  grid-auto-flow: row;                    /* Explicitly place items row-by-row in DOM order */
  gap: 20px;                              /* Space between grid items */
  width: 100%;
  min-height: calc(297mm - 40px);         /* Minimum height for A4 page */
  padding: 20px 20px 20px 20px;          /* Inner padding */
  margin: 20px 0;                         /* Top/bottom margins */
  border-radius: var(--radius-card);      /* Rounded corners */
  /* Reading Order: Force left-to-right, top-to-bottom reading order
     Helps PDF viewers (especially Mac Preview) extract text in correct DOM order */
  direction: ltr;                         /* Left-to-right reading direction */
  writing-mode: horizontal-tb;            /* Top-to-bottom writing mode */
  /* Glassmorphism Background: Semi-transparent with backdrop blur
     Creates the frosted glass effect that's the signature of this design */
  background: rgba(8, 8, 16, 0.25);       /* Semi-transparent dark background */
  backdrop-filter: blur(24px) saturate(150%); /* Blur effect with saturation boost */
  -webkit-backdrop-filter: blur(24px) saturate(150%); /* Safari prefix support */
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04); /* Subtle inner border */
  align-content: start;                   /* Aligns grid content to top */
}

/* Card Grid Children: Ensures all cards in grid take full width
   and use flexbox for internal content layout */
.card-grid > .glass-card {
  width: 100%;
  display: flex;
  flex-direction: column;
}

/* Card Span 2: Utility class to make a card span both columns
   Used for full-width sections like "Relevant Experience" */
.card-span-2 {
  grid-column: 1 / -1;                    /* Spans from first to last column */
}

/* Equal Height Card: Ensures cards in the same row have matching heights
   Prevents uneven card heights in two-column layout */
.equal-height-card {
  display: flex;
  flex-direction: column;
  height: 100%;                           /* Takes full height of grid cell */
}

/* Personal Info Layout: Flexbox container for contact info and avatar
   Arranges name/contact info on left, avatar on right */
.personal-info-layout {
  display: flex;
  align-items: center;                    /* Vertically centers items */
  gap: 20px;                              /* Space between info and avatar */
}

.personal-info-layout .info-block {
  flex: 1;
  min-width: 0;
}

.personal-info-layout h2 {
  white-space: nowrap;
}

/* ========================
   4. Card Components
   Cover the repeating visual blocks.
   Glassmorphism cards are the primary visual component of the CV.
   ======================== */
/* Glass Card: The signature glassmorphism card component
   Each CV section (Experience, Education, etc.) is a glass-card
   Creates depth and modern aesthetic through transparency and blur */
.glass-card {
  position: relative;
  border-radius: var(--radius-card);      /* Rounded corners */
  /* Reading Order: Ensure proper text extraction order for PDF viewers
     Helps Mac Preview and other PDF viewers copy text in DOM order */
  direction: ltr;                         /* Left-to-right reading direction */
  writing-mode: horizontal-tb;            /* Top-to-bottom writing mode */
  /* Glassmorphism Effect: Semi-transparent background with backdrop blur
     Allows background image to show through while maintaining readability */
  background: rgba(8, 8, 16, 0.25);       /* Semi-transparent dark background */
  backdrop-filter: blur(24px) saturate(150%); /* Blur effect with color saturation */
  -webkit-backdrop-filter: blur(24px) saturate(150%); /* Safari support */
  /* Layered Shadows: Inset border + outer shadow for depth */
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04), var(--shadow-soft);
  border: 1px solid var(--border-subtle); /* Subtle border for definition */
  padding: 20px;                          /* Internal spacing */
  /* Smooth Transitions: Animated hover effects */
  transition: transform 220ms ease, box-shadow 220ms ease,
    border-color 220ms ease;
}

/* Glass Card Hover: Interactive lift effect on hover
   Provides visual feedback and adds interactivity to the CV */
.glass-card:hover {
  transform: translateY(-6px);            /* Lifts card up 6px */
  box-shadow: 0 26px 60px rgba(0, 0, 0, 0.95); /* Enhanced shadow for depth */
  border-color: rgba(244, 201, 107, 0.9); /* Gold border on hover */
}

/* Consistent card heading styles */
.glass-card h2 {
  margin-bottom: 12px;
  font-size: 20px;
  font-weight: 600;
  text-transform: uppercase;
  color: var(--gold);
  letter-spacing: 0.02em;
}

/* Consistent subheading styles */
.glass-card h3 {
  margin-top: 0;
  margin-bottom: 4px;
  font-size: 15px;
  font-weight: 600;
  color: var(--gold-soft);
  letter-spacing: 0.02em;
}

/* Consistent article spacing */
.glass-card article {
  margin-top: 12px;
}

.glass-card article:first-of-type {
  margin-top: 0;
}

.glass-card article + article {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

/* Consistent paragraph spacing */
.glass-card p {
  font-size: 13px;
  line-height: 1.5;
  font-weight: 400;
  color: var(--text-main);
  margin: 0;
}

.glass-card p + p,
.glass-card h2 + p,
.glass-card h3 + p {
  margin-top: 6px;
}

.glass-card h2 + ul,
.glass-card h3 + ul {
  margin-top: 6px;
}

/* Info Bubbles Container: Flexbox layout for contact information pills
   Wraps to multiple lines if needed on smaller screens */
.info-bubbles {
  display: flex;
  flex-wrap: wrap;                        /* Allows wrapping to new line */
  gap: 8px;                               /* Space between bubbles */
  margin-top: 10px;
}

/* Info Bubble: Styled contact information pills
   Each contact method (phone, email, LinkedIn) is an info-bubble
   Glassmorphism styling matches the overall design theme */
.info-bubble {
  padding: 7px 14px;                      /* Internal padding */
  border-radius: var(--radius-card);      /* Rounded corners */
  border: 1px solid rgba(255, 255, 255, 0.24); /* Subtle border */
  /* Glassmorphism: Matches card styling but with lighter blur */
  background: rgba(8, 8, 16, 0.25);
  backdrop-filter: blur(18px) saturate(150%);
  -webkit-backdrop-filter: blur(18px) saturate(150%);
  box-shadow: inset 0 0 0 0.5px rgba(255, 255, 255, 0.08),
    0 18px 40px rgba(0, 0, 0, 0.8);
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  font-style: normal;                     /* Removes italic from <address> */
  color: var(--text-main);
  text-decoration: none;                 /* Removes underline from links */
  white-space: nowrap;                    /* Prevents text wrapping */
}

.info-bubbles .info-bubble:first-child,
.info-bubbles .info-bubble:nth-child(2) {
  flex: 0 0 calc(50% - 10px);
  justify-content: center;
}

/* Avatar Circle: Circular container for profile photo
   Fixed size ensures consistent layout */
.avatar-circle {
  width: 144px;                           /* Fixed width */
  height: 144px;                          /* Fixed height (square) */
  border-radius: 50%;                     /* Perfect circle */
  display: flex;
  align-items: center;                    /* Centers image vertically */
  justify-content: center;                /* Centers image horizontally */
  flex-shrink: 0;                        /* Prevents shrinking in flex layout */
}

/* Avatar Image: Profile photo styling
   Sized to 75% of container with circular clipping and gold border */
.avatar-circle img {
  width: 75%;                             /* 75% of container size */
  height: 75%;                            /* Maintains aspect ratio */
  border-radius: 50%;                     /* Circular image */
  object-fit: cover;                      /* Covers area while maintaining aspect ratio */
  border: 1px solid var(--gold);          /* Gold border for brand consistency */
}

/* Bullet List: Styled unordered lists for experience/project bullet points
   Used throughout CV for achievements and responsibilities */
.bullet-list {
  margin: 6px 0 0 0;                      /* Top margin for spacing from heading */
  padding-left: 18px;                    /* Indentation for bullet points */
  font-size: 13px;
  line-height: 1.5;                      /* Comfortable line spacing */
  font-weight: 400;
  color: var(--text-main);
}

/* Bullet List Items: Individual bullet point styling
   Consistent spacing between items */
.bullet-list li {
  margin-top: 8px;                       /* Space between bullet points */
  line-height: 1.5;
  color: var(--text-main);
}

/* First Bullet: Removes top margin from first item
   Prevents extra space at the start of lists */
.bullet-list li:first-child {
  margin-top: 0;
}


/* ========================
   5. Skills Layout
   Handles the multi-column skill badges.
   Flexbox layout organizes skills into categories (General, Tools, Industry Knowledge).
   ======================== */
/* Skills Layout: Flexbox container for skill categories
   Arranges skill sections vertically with consistent spacing */
.skills-layout {
  display: flex;
  flex-wrap: wrap;                       /* Allows wrapping if needed */
  gap: 0;                                 /* No gap (spacing handled by borders) */
  margin-top: 0;
  align-items: flex-start;                /* Aligns items to top */
}

.skills-column {
  flex: 1 1 0;
  min-width: 0;
}

.skills-column:not(.skills-tools) {
  flex-basis: 100%;
  width: 100%;
}

.skills-column h3,
.skills-general h3 {
  margin-top: 0;
  margin-bottom: 8px;
  font-size: 15px;
  font-weight: 600;
  color: var(--gold-soft);
  letter-spacing: 0.02em;
}

.skills-general {
  flex: 1 1 0;
  min-width: 0;
  flex-basis: 100%;
  margin-top: 0;
}

.skills-tools {
  flex-basis: 100%;
}

/* Consistent divider spacing for skills sections - matches article spacing exactly */
.skills-general + .skills-column,
.skills-general + .skills-tools,
.skills-tools + .skills-column {
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.skills-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 6px;
}

.skill-item {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

/* ========================
   6. Print / PDF Overrides
   Forces the same look when Puppeteer prints.
   These styles override screen styles when generating PDFs.
   Critical for maintaining visual consistency between web and PDF.
   ======================== */
/* Print Media Query: Activates when Puppeteer emulates print media
   All styles here override the default screen styles for PDF export */
@media print {
  /* Page Setup: Defines A4 page size with no margins
     Puppeteer uses this to set PDF page dimensions */
  @page {
    size: A4;                             /* A4 paper size (210mm × 297mm) */
    margin: 0;                            /* No page margins (handled by padding) */
  }

  /* Color Adjustment: Forces browsers to print backgrounds and colors exactly
     Without this, browsers may convert colors to grayscale or remove backgrounds */
  *,
  *::before,
  *::after {
    -webkit-print-color-adjust: exact !important; /* Chrome/Safari */
    print-color-adjust: exact !important;          /* Standard property */
  }

  /* HTML/Body Print Styles: Locks dimensions to A4 and ensures background renders
     These overrides are necessary because print media behaves differently than screen */
  html,
  body {
    width: 210mm !important;              /* A4 width locked */
    min-height: 350mm !important;         /* Extra height for multi-page content */
    background-color: var(--bg-dark) !important; /* Dark background fallback */
    /* Background Image: Ensures glassmorphism backdrop renders in PDF
       Sized to A4 and repeated vertically for multi-page PDFs */
    background-image: url("../assets/Futuristic-Gold-and-Black.jpg") !important;
    background-size: 210mm 297mm !important; /* A4 dimensions */
    background-repeat: repeat-y !important;  /* Repeats vertically for page 2+ */
    background-position: 0 0 !important;
  }

  body {
    display: flex !important;
    justify-content: center !important;
    align-items: flex-start !important;
  }

  .cv-shell {
    padding: 8px !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* Card Grid Print: Reduced padding and gaps for PDF optimization
     Slightly more opaque background for better print contrast */
  .card-grid {
    padding: 8px 8px 16px 8px !important; /* Reduced padding for PDF */
    margin-top: 0 !important;
    gap: 8px !important;                   /* Tighter gaps for PDF */
    min-height: calc(297mm - 16px) !important;
    background: rgba(8, 8, 16, 0.50) !important; /* More opaque for print */
    border-radius: var(--radius-card) !important;
  }

  /* Glass Card Print: Enhanced opacity and simplified styling for PDF
     Removes shadows and borders that may not render well in PDF */
  .glass-card {
    background: rgba(8, 8, 16, 0.75) !important; /* More opaque for print clarity */
    border: none !important;               /* Removes border for cleaner print */
    box-shadow: none !important;          /* Removes shadows (may not render) */
    padding: 8px !important;               /* Reduced padding for PDF */
    border-radius: var(--radius-card) !important;
  }

  .glass-card h2 {
    margin-bottom: 8px !important;
  }

  .glass-card article {
    margin-top: 8px !important;
  }

  .glass-card article:first-of-type {
    margin-top: 0 !important;
  }

  .glass-card article + article {
    margin-top: 8px !important;
    padding-top: 8px !important;
    border-top: 1px solid rgba(255, 255, 255, 0.08) !important;
  }

  .glass-card h3 {
    margin-bottom: 8px !important;
  }

  .glass-card p {
    line-height: 1.3 !important;
  }

  .glass-card p + p,
  .glass-card h2 + p,
  .glass-card h3 + p {
    margin-top: 8px !important;
  }

  .glass-card h2 + ul,
  .glass-card h3 + ul {
    margin-top: 8px !important;
  }

  .bullet-list {
    margin-top: 8px !important;
  }

  .bullet-list li {
    margin-top: 8px !important;
    line-height: 1.3 !important;
  }

  .bullet-list li:first-child {
    margin-top: 0 !important;
  }

  .info-bubbles {
    margin-top: 8px !important;
    gap: 8px !important;
  }

  .info-bubble {
    padding: 8px !important;
    border-radius: var(--radius-card) !important;
  }

  .skills-general + .skills-column,
  .skills-general + .skills-tools,
  .skills-tools + .skills-column {
    margin-top: 8px !important;
    padding-top: 8px !important;
  }

  /* Page Break Control: Prevents sections from breaking across pages
     Keeps content together for better readability in PDF */
  section {
    page-break-inside: avoid;             /* Prevents breaking section across pages */
  }

  /* Last Two Sections: Allows breaking for Licenses & Awards sections
     These sections are shorter and can break if needed to fit on page 2 */
  section:nth-last-child(-n + 2) {
    page-break-inside: auto !important;    /* Allows breaking if necessary */
    page-break-before: avoid !important;  /* Prevents page break before */
  }
  
  /* Additional Experience: Prevents forced page break after this section
     Allows natural flow to next page */
  section:nth-last-child(3) {
    page-break-after: auto !important;
  }

  /* First Five Sections: Prevents page breaks after main content sections
     Keeps primary content (Experience, Projects, etc.) together */
  .card-grid > section:nth-child(-n + 5) {
    page-break-after: avoid;
  }

  /* Page Break Before: Forces a page break (used for Projects section)
     Ensures certain sections start on a new page in PDF */
  .page-break-before {
    page-break-before: always;            /* Forces new page */
    margin-top: 8px !important;
  }

  /* Sections After Page Break: Adjusts spacing for sections on second page
     Maintains consistent spacing after forced page break */
  .page-break-before ~ section {
    margin-top: 8px !important;
  }

  a {
    color: inherit !important;
    text-decoration: none !important;
  }
}

/* Extra Safari-focused rule to keep colors when printing.
   This media query specifically targets Safari/WebKit browsers
   to ensure background colors render correctly in PDF export. */
@media print and (-webkit-min-device-pixel-ratio: 0) {
  body {
    -webkit-print-color-adjust: exact !important; /* Safari/WebKit prefix */
    print-color-adjust: exact !important;          /* Standard property */
  }
}

/* ========================
   7. Accessibility Helpers
   Hidden text still read by screen readers / ATS.
   The .ats-only class uses CSS clipping to hide content visually
   while keeping it accessible to assistive technologies and ATS scanners.
   ======================== */
/* ATS Only: Visually hidden but accessible to screen readers and ATS systems
   Uses CSS clipping technique (visually-hidden pattern) to hide content
   while maintaining it in the DOM for machine parsing */
.ats-only {
  position: absolute;                     /* Removes from normal flow */
  width: 1px;                             /* Minimal width */
  height: 1px;                            /* Minimal height */
  padding: 0;
  margin: -1px;                           /* Negative margin to offset positioning */
  overflow: hidden;                       /* Hides overflow content */
  clip: rect(0, 0, 0, 0);                 /* Legacy clipping (for older browsers) */
  white-space: nowrap;                    /* Prevents text wrapping */
  border: 0;
  font-size: 0;                           /* Zero font size */
  line-height: 0;                         /* Zero line height */
}

/* ATS Only Focus/Active: Additional clipping for non-focused elements
   Ensures content is completely hidden unless focused (for keyboard navigation) */
.ats-only:not(:focus):not(:active) {
  clip-path: inset(50%);                  /* Modern clipping (hides 50% from all sides) */
}

